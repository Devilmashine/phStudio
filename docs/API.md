# üìñ API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –í–ê–ñ–ù–û
- people_count –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –≤—Å–µ—Ö POST/PUT-–∑–∞–ø—Ä–æ—Å–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–æ–±—ã—Ç–∏–π –∫–∞–ª–µ–Ω–¥–∞—Ä—è.
- –ü—Ä–∏–º–µ—Ä—ã payload –∏ curl-–∑–∞–ø—Ä–æ—Å–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω—ã: people_count –≤—Å–µ–≥–¥–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç.

## –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã
```
GET /api/calendar/events?start_date=YYYY-MM-DD&end_date=YYYY-MM-DD
```

### –°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```
POST /api/bookings
```
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "date": "2025-04-18",
  "times": ["10:00", "11:00"],
  "name": "–ò–≤–∞–Ω",
  "phone": "79999999999",
  "total_price": 5000,
  "people_count": 2
}
```

### Webhook –¥–ª—è Telegram
```
POST /api/telegram/webhook
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤/–∞–¥–º–∏–Ω–æ–≤)
```
GET /api/bookings
```

### –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ id
```
GET /api/bookings/{booking_id}
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (–¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤/–∞–¥–º–∏–Ω–æ–≤)
```
GET /api/clients
```

### –ü–æ–ª—É—á–∏—Ç—å –æ–¥–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ id
```
GET /api/clients/{client_id}
```

### –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ —á–µ—Ä–µ–∑ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
```
POST /api/clients
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤/–∞–¥–º–∏–Ω–æ–≤
```
GET /api/users
```

## StudioSettings (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—É–¥–∏–∏)

### GET /api/settings/
- –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—É–¥–∏–∏ (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å admin/manager)
- –û—Ç–≤–µ—Ç: –æ–±—ä–µ–∫—Ç StudioSettings

### POST /api/settings/
- –°–æ–∑–¥–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—É–¥–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è admin, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
- –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: StudioSettingsCreate
- –û—Ç–≤–µ—Ç: –æ–±—ä–µ–∫—Ç StudioSettings

### PUT /api/settings/
- –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—É–¥–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è admin)
- –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞: StudioSettingsUpdate
- –û—Ç–≤–µ—Ç: –æ–±—ä–µ–∫—Ç StudioSettings

#### –ü—Ä–∏–º–µ—Ä –æ–±—ä–µ–∫—Ç–∞ StudioSettings
```json
{
  "id": 1,
  "work_days": ["mon", "tue", "wed", "thu", "fri"],
  "work_start_time": "09:00",
  "work_end_time": "20:00",
  "base_price_per_hour": 2500,
  "weekend_price_multiplier": 1.5,
  "telegram_notifications_enabled": true,
  "email_notifications_enabled": true,
  "holidays": ["2025-01-01"],
  "min_booking_duration": 1,
  "max_booking_duration": 8,
  "advance_booking_days": 30
}
```

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è, –Ω–æ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö –¥–æ—Å—Ç—É–ø–Ω—ã —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º —á–µ—Ä–µ–∑ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã.
- –î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è Bearer-—Ç–æ–∫–µ–Ω —Å —Ä–æ–ª—å—é admin/manager.
- –í—Å–µ –Ω–æ–≤—ã–µ –ø–æ–ª—è –∏ —Å—É—â–Ω–æ—Å—Ç–∏ –æ—Ç—Ä–∞–∂–µ–Ω—ã –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ë–î –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

## –û—à–∏–±–∫–∏
- 400 ‚Äî –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- 409 ‚Äî –°–ª–æ—Ç —É–∂–µ –∑–∞–Ω—è—Ç
- 422 ‚Äî –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, people_count)
- 500 ‚Äî –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –î–ª—è –∑–∞—â–∏—â—ë–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Bearer-—Ç–æ–∫–µ–Ω (—Ä–æ–ª—å —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤ access_token).

## –ü—Ä–∏–º–µ—Ä—ã —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ curl/Postman, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ people_count –≤ payload.

## –§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å (2025)

- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –º–µ–∂–¥—É backend –∏ frontend
- –í—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (people_count, service –∏ –¥—Ä.) —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å—Ç—Ä–æ–≥–æ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –∞–∫—Ç—É–∞–ª—å–Ω—ã