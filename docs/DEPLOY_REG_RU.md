# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ reg.ru (shared hosting)

## –í–≤–µ–¥–µ–Ω–∏–µ
–≠—Ç–æ—Ç –≥–∞–π–¥ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ —Ö–æ—Å—Ç–∏–Ω–≥–∞ reg.ru (–Ω–µ VPS), –≥–¥–µ –¥–æ—Å—Ç—É–ø–µ–Ω Python (—á–µ—Ä–µ–∑ FastCGI/WSGI/ASGI), –∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ frontend (React)

1. –°–æ–±–µ—Ä–∏—Ç–µ production-–≤–µ—Ä—Å–∏—é —Ñ—Ä–æ–Ω—Ç–∞:
   ```bash
   npm run build
   ```
   –í –∫–∞—Ç–∞–ª–æ–≥–µ `dist/` –ø–æ—è–≤—è—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã.
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `dist/` –≤ –ø–∞–ø–∫—É `public_html` –≤–∞—à–µ–≥–æ —Ö–æ—Å—Ç–∏–Ω–≥–∞ (—á–µ—Ä–µ–∑ FTP –∏–ª–∏ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä reg.ru).

---

## 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ backend (FastAPI)

> –ù–∞ shared-—Ö–æ—Å—Ç–∏–Ω–≥–µ reg.ru –æ–±—ã—á–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Python —á–µ—Ä–µ–∑ FastCGI/WSGI (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ uWSGI –∏–ª–∏ mod_wsgi). ASGI (FastAPI) –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑ daphne/uvicorn + asgiref, –Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏.

### 2.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
/ (–∫–æ—Ä–µ–Ω—å –∞–∫–∫–∞—É–Ω—Ç–∞)
  |-- public_html/           # –§—Ä–æ–Ω—Ç–µ–Ω–¥ (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã)
  |-- backend/               # –ë—ç–∫–µ–Ω–¥ (FastAPI)
  |-- venv/                  # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
  |-- .env                   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ù–ï –∫–ª–∞—Å—Ç—å –≤ public_html)
```

### 2.2. –ó–∞–≥—Ä—É–∑–∫–∞ backend
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–∞–ø–∫—É `backend/` –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—á–µ—Ä–µ–∑ FTP/SFTP).
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ SSH –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å reg.ru):
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   pip install -r backend/requirements.txt
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã.

### 2.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WSGI/ASGI
- –í –ø–∞–Ω–µ–ª–∏ reg.ru –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
  - –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º—É –æ–∫—Ä—É–∂–µ–Ω–∏—é (`venv/`)
  - –£–∫–∞–∂–∏—Ç–µ entrypoint: –Ω–∞–ø—Ä–∏–º–µ—Ä, `backend/app/main.py` (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ `backend/app/wsgi.py` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
- –î–ª—è FastAPI (ASGI):
  - –ï—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ daphne/uvicorn:
    ```bash
    pip install uvicorn
    uvicorn backend.app.main:app
    ```
  - –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ WSGI ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `fastapi[all]` + `uvicorn[standard]` + `asgiref`.
  - –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–¥–∞–ø—Ç–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `daphne` –∏–ª–∏ `hypercorn`).

### 2.4. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (–ù–ï –≤ public_html!)
- –ü—Ä–æ–ø–∏—à–∏—Ç–µ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∏ –∫–ª—é—á–∏ (—Å–º. README.md)
- –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è reg.ru —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ .env –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å.

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –∏ —Ä–æ—É—Ç–∏–Ω–≥–∞
- –í –ø–∞–Ω–µ–ª–∏ reg.ru –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ–º–µ–Ω —Ç–∞–∫, —á—Ç–æ–±—ã:
  - `/` (–∫–æ—Ä–µ–Ω—å) –æ—Ç–¥–∞–≤–∞–ª —Å—Ç–∞—Ç–∏–∫—É –∏–∑ `public_html/`
  - `/api/` –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–ª—Å—è –Ω–∞ backend (FastAPI)
- –û–±—ã—á–Ω–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ .htaccess –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Python-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä .htaccess –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
RewriteEngine On
RewriteCond %{REQUEST_URI} ^/api/
RewriteRule ^(.*)$ http://127.0.0.1:8000/$1 [P]
```

---

## 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–∞–∑–º–µ—â–∞–π—Ç–µ .env –∏ backend-–∫–æ–¥ –≤ public_html.
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º (700 –¥–ª—è .env, 755 –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤).
- –û—Ç–∫–ª—é—á–∏—Ç–µ –ª–∏—Å—Ç–∏–Ω–≥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π.

---

## 5. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è shared-—Ö–æ—Å—Ç–∏–Ω–≥–∞
- –ù–µ—Ç root-–¥–æ—Å—Ç—É–ø–∞, –Ω–µ–ª—å–∑—è –∑–∞–ø—É—Å–∫–∞—Ç—å Docker.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –ø–∞–º—è—Ç–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤.
- –ù–µ –≤—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Python –º–æ–≥—É—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (–æ—Å–æ–±–µ–Ω–Ω–æ —Å C-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏).
- WebSocket –º–æ–∂–µ—Ç –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è FastAPI).

---

## 6. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
- –î–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (WebSocket, —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPS –∏–ª–∏ –æ–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

---

## 7. –ü—Ä–æ–≤–µ—Ä–∫–∞
- –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
  - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ—Ä–æ–Ω—Ç–∞ –ø–æ –¥–æ–º–µ–Ω—É
  - –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API –ø–æ `/api/`
  - –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ (–¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–∞–Ω–µ–ª–∏ reg.ru)

---

**–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å –∑–∞–ø—É—Å–∫–æ–º FastAPI –Ω–∞ shared-—Ö–æ—Å—Ç–∏–Ω–≥–µ ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å VPS –∏–ª–∏ –æ–±–ª–∞–∫–æ (Yandex Cloud, DigitalOcean, Hetzner).** 